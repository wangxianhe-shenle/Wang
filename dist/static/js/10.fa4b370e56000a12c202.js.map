{"version":3,"sources":["webpack:///src/page/My/Tui.vue","webpack:///./src/page/My/Tui.vue?e9b4","webpack:///./src/page/My/Tui.vue"],"names":["Tui","data","headPhoto","user_id","components","Head","beforeMount","this","$store","state","obj","img","methods","sub","commit","go","$router","uploadHeadImg","$el","querySelector","click","upload","File","config","_this","input","$refs","FormData","append","files","headers","Content-Type","axios","post","then","res","console","log","image_path","My_Tui","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","slot","src","__webpack_require__","alt","on","_v","$event","stopPropagation","ref","staticStyle","opacity","id","type","change","to","name","tag","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"2IA+BAA,GACAC,KADA,WAEA,OACAC,UAAA,GACAC,QAAA,KAGAC,YACAC,eAAA,SAEAC,YAVA,WAWAC,KAAAJ,QAAAI,KAAAC,OAAAC,MAAAC,IAAAP,QACAI,KAAAL,UAAAK,KAAAC,OAAAC,MAAAE,KAEAC,SACAC,IADA,WAEAN,KAAAC,OAAAM,OAAA,QAEAC,GAJA,WAKAR,KAAAS,QAAAD,IAAA,IAEAE,cAAA,WAEAV,KAAAW,IAAAC,cAAA,gBAAAC,SAiBAC,OA1BA,WA0BA,IACAC,EAAAC,EADAC,EAAAjB,KAEAkB,EAAAlB,KAAAmB,MAAAL,OAEApB,EAAA,IAAA0B,SAEA1B,EAAA2B,OAAA,OAAAH,EAAAI,MAAA,KALAP,EAMArB,EANAsB,GAMAO,SAAAC,eAAA,wBANAP,EAAAQ,MAAAC,KAAA,uCAAAT,EAAArB,QAAA,UAAAmB,EAAAC,IAMAW,KAAA,SAAAC,GACAC,QAAAC,IAAAF,GACAX,EAAAtB,UAAAiC,EAAAlC,KAAAqC,WACAd,EAAAhB,OAAAM,OAAA,SAAAU,EAAAtB,gBC9EeqC,GADEC,OAFjB,WAA0B,IAAAC,EAAAlC,KAAamC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,QAAkBF,EAAA,QAAAA,EAAA,OAAuBG,OAAOC,KAAA,OAAAC,IAAoBC,EAAQ,QAAsBC,IAAA,IAAWC,IAAKhC,MAAAqB,EAAA1B,IAAeiC,KAAA,SAAaP,EAAAY,GAAA,KAAAT,EAAA,MAAuBG,OAAOC,KAAA,UAAgBA,KAAA,WAAeP,EAAAY,GAAA,UAAAZ,EAAAY,GAAA,KAAAT,EAAA,OAAyCE,YAAA,YAAsBF,EAAA,OAAYE,YAAA,qBAA+BF,EAAA,OAAYE,YAAA,aAAuBF,EAAA,OAAYG,OAAOE,IAAA,8BAAAR,EAAAvC,UAAAiD,IAAA,QAA8DV,EAAAY,GAAA,KAAAT,EAAA,OAA0BE,YAAA,gBAAAM,IAAgChC,MAAA,SAAAkC,GAAkD,OAAzBA,EAAAC,kBAAyBd,EAAAxB,cAAAqC,OAAmCV,EAAA,OAAYE,YAAA,YAAsBL,EAAAY,GAAA,YAAAZ,EAAAY,GAAA,KAAAT,EAAA,SAA6CY,IAAA,SAAAV,YAAA,cAAAW,aAAoDC,QAAA,KAAcX,OAAQY,GAAA,SAAAC,KAAA,QAA4BR,IAAKS,OAAApB,EAAApB,YAAqBoB,EAAAY,GAAA,KAAAT,EAAA,eAAkCE,YAAA,OAAAC,OAA0Be,IAAMC,KAAA,WAAeC,IAAA,YAAiBvB,EAAAY,GAAA,aAAAZ,EAAAY,GAAA,KAAAT,EAAA,UAA+CE,YAAA,MAAAM,IAAsBhC,MAAAqB,EAAA5B,OAAiB4B,EAAAY,GAAA,2CAExhCY,oBCCjB,IAcAC,EAdyBhB,EAAQ,OAcjCiB,CACEnE,EACAuC,GATF,EAVA,SAAA6B,GACElB,EAAQ,SAaV,kBAEA,MAUemB,EAAA,QAAAH,EAAiB","file":"static/js/10.fa4b370e56000a12c202.js","sourcesContent":["<template>\r\n    <div class=\"box\">\r\n        <Head>\r\n            <img src=\"../../images/110.png\" alt=\"\" @click=\"go\" slot=\"left\"/>\r\n            <h4 slot=\"center\">我的</h4>\r\n        </Head>\r\n        <div class=\"content\">\r\n            <div class=\"item_bock head_p\">\r\n                <div class=\"head_img\">\r\n                <img :src=\"'https://elm.cangdu.org/img/' + headPhoto\" alt=\"\"/>\r\n                <!-- <--图片地址动态绑定-->\r\n                </div>\r\n                <div class=\"setting_right\" @click.stop=\"uploadHeadImg\">\r\n                <div class=\"caption\">更改头像</div>\r\n                </div>\r\n                <!-- 打开本地文件的是input -->\r\n               <input id=\"result\" ref=\"upload\" @change=\"upload\" type=\"file\" style=\"opacity: 0\" class=\"hiddenInput\"/>\r\n                <!-- accept 属性用于限制图像的格式 如：（accept=”image/gif, image/jpeg”），accept=”image/*”表示不限制格式。  -->\r\n            </div>\r\n\r\n            <router-link class=\"btn1\" :to=\"{name:'Address'}\" tag=\"button\">请添加收货地址</router-link>\r\n            <button @click=\"sub\" class=\"btn\">\r\n                退出登录\r\n            </button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nimport Head from  '../Head/Header.vue'\r\nexport default {\r\n    data(){\r\n        return{\r\n            headPhoto:'',\r\n            user_id:''\r\n        }\r\n    },\r\n    components:{\r\n        Head\r\n    },\r\n    beforeMount(){\r\n         this.user_id = this.$store.state.obj.user_id\r\n         this.headPhoto = this.$store.state.img\r\n    },\r\n    methods:{\r\n        sub(){\r\n            this.$store.commit('sbb')\r\n        },\r\n        go(){\r\n            this.$router.go(-1)\r\n        },\r\n        uploadHeadImg: function () {\r\n             // 是获取文档中 class=”hiddenInput” 的元素。 \r\n            this.$el.querySelector('.hiddenInput').click()\r\n        },\r\n        // 将头像显示\r\n        // handleFile: function (e) { \r\n            // 表示调用他的各种属性， 两个的区别是：ie下支持e.srcElement，ff支持e.target。 \r\n            // let $target = e.target || e.srcElement\r\n            // // 由于手机上可以选择多张图片，所以选择第一张图\r\n            // let file = $target.files[0]\r\n            // // FileReader 对象允许Web应用程序异步读取存储在用户计算机上的文件（或原始数据缓冲区）的内容，使用 File 或 Blob 对象指定要读取的文件或数据。\r\n            // var reader = new FileReader()\r\n            // // onload 事件会在页面或图像加载完成后立即发生\r\n            // reader.onload = (data) => {\r\n            //     let res = data.target || data.srcElement\r\n            //     this.userInfo.avatar = res.result\r\n            // }\r\n            // // FileReader对象的readAsDataURL方法可以将读取到的文件编码成Data URL。\r\n            // reader.readAsDataURL(file)\r\n            upload(){\r\n                const userUploadAtt= (File,config) => this.axios.post('https://elm.cangdu.org/eus/v1/users/'+this.user_id+'/avatar',File,config)\r\n                let input = this.$refs.upload\r\n                //new 一个对象\r\n                let data = new FormData()\r\n                //用FormData.append为表单添加建值对到表单中\r\n                data.append('file',input.files[0])\r\n                userUploadAtt(data,{headers:{'Content-Type': 'multipart/form-data'}}).then(res =>{\r\n                console.log(res)\r\n                this.headPhoto = res.data.image_path;\r\n                this.$store.commit(\"gaiImg\",this.headPhoto)\r\n                })\r\n                }\r\n            // },\r\n        },\r\n    }\r\n  \r\n\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n   .box{\r\n      width: 100%;\r\n      header{\r\n        width: 100%;\r\n        height: 0.8rem;\r\n        background: #3792E5;\r\n        position: relative;\r\n        img{\r\n            position: absolute;\r\n            top: 0.3rem;\r\n            left: 0.2rem;\r\n            width: 0.3rem;\r\n        }\r\n        h4{\r\n            position: absolute;\r\n            color: white;\r\n            top: -0.3rem;\r\n            font-size: 0.4rem;\r\n            left: 3.2rem;\r\n        }\r\n      }\r\n      .content{\r\n          width: 100%;\r\n          .btn{\r\n              width: 6.5rem;\r\n              height: 0.8rem;\r\n              font-size: 0.4rem;\r\n              border: none;\r\n              background: #3792E5;\r\n              color: white;\r\n              margin-top: 0.6rem;\r\n              margin-left: 0.5rem;\r\n              border-radius: 5%;\r\n          }\r\n          .btn1{\r\n              width: 6.5rem;\r\n              height: 0.8rem;\r\n              font-size: 0.4rem;\r\n              border: none;\r\n              background: #3792E5;\r\n              margin-left: 0.5rem;\r\n              border-radius: 5%;\r\n              color: white;\r\n          }\r\n      }\r\n   }\r\n   .item_bock {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  height:94px;\r\n  width: 300px;\r\n  padding:0px 24px 0px 38px;\r\n  border-bottom: 1px solid #f7f7f7;\r\n  background: #fff;\r\n}\r\n.head_p {\r\n  height:132px;\r\n}\r\n.head_img{\r\n  height: 90px;\r\n}\r\n.head_img img{\r\n  width:90px;\r\n  height:90px;\r\n  border-radius:50px\r\n}\r\n.setting_right{\r\n  display: flex;\r\n  height: 37px;\r\n  justify-content: flex-end;\r\n  align-items: center;\r\n}\r\n.hiddenInput{\r\n  display: none;\r\n}\r\n.caption {\r\n  color: #8F8F8F;\r\n  font-size: 26px;\r\n  height: 37px;\r\n}\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/My/Tui.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('Head',[_c('img',{attrs:{\"slot\":\"left\",\"src\":require(\"../../images/110.png\"),\"alt\":\"\"},on:{\"click\":_vm.go},slot:\"left\"}),_vm._v(\" \"),_c('h4',{attrs:{\"slot\":\"center\"},slot:\"center\"},[_vm._v(\"我的\")])]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"item_bock head_p\"},[_c('div',{staticClass:\"head_img\"},[_c('img',{attrs:{\"src\":'https://elm.cangdu.org/img/' + _vm.headPhoto,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"setting_right\",on:{\"click\":function($event){$event.stopPropagation();return _vm.uploadHeadImg($event)}}},[_c('div',{staticClass:\"caption\"},[_vm._v(\"更改头像\")])]),_vm._v(\" \"),_c('input',{ref:\"upload\",staticClass:\"hiddenInput\",staticStyle:{\"opacity\":\"0\"},attrs:{\"id\":\"result\",\"type\":\"file\"},on:{\"change\":_vm.upload}})]),_vm._v(\" \"),_c('router-link',{staticClass:\"btn1\",attrs:{\"to\":{name:'Address'},\"tag\":\"button\"}},[_vm._v(\"请添加收货地址\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn\",on:{\"click\":_vm.sub}},[_vm._v(\"\\n            退出登录\\n        \")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-45d56700\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/My/Tui.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-45d56700\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Tui.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Tui.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Tui.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-45d56700\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Tui.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-45d56700\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/My/Tui.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}