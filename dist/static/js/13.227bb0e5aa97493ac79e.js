webpackJsonp([13],{"3QTN":function(s,e){},zJi4:function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("EXBO"),o=t("Muz9");t.n(o).a.defaults.withCredentials=!0;var i={components:{Head:a.default},data:function(){return{username:"",password:"",isWorks:!1,usernameIsRight:!1,num:"",value1:!0,value2:!1,userRight:!1,showpass:!1,isNo:!1,val:"",captcha_code:"",code:"",popupVisible:"请输入验证码"}},methods:{submitinfo:function(){var s=this;this.axios.post("https://elm.cangdu.org/v2/login",{captcha_code:this.captcha_code,username:this.username,password:this.password}).then(function(e){if(console.log(e),0==e.data.status)""!=s.username&&""!=s.password&&""!=s.captcha_code&&(s.isNo=!0,s.val=e.data.message);else{var t={username:s.username,user_id:e.data.user_id,login:!0};s.$store.commit("login",t),s.$router.push({name:"List"})}}),""==this.username?(this.isNo=!0,this.val="请输入用户名"):""==this.password?(this.isNo=!0,this.val="请输入密码"):""==this.sum?(this.isNo=!0,this.val="请输入验证码"):""==this.captcha_code&&(this.isNo=!0,this.val="情输入验证码"),null===localStorage.getItem(this.username)?this.usernameIsRight=!0:localStorage.getItem(this.username)!==this.password||(localStorage.getItem(this.username)===this.password?(this.usernameIsRight=!1,this.$router.push({name:"List",params:{name:this.username}}),window.location.reload()):this.password.length<=6&&alert("密码必须超过6位"))},add:function(){this.isNo=!1},chang:function(){var s=this;this.axios.post("https://elm.cangdu.org/v1/captchas",{}).then(function(e){s.code=e.data.code})}},mounted:function(){function s(){document.documentElement.style.fontSize=document.documentElement.clientWidth/7.5+"px"}s(),window.onresize=s,""!==this.$store.state.userid&&this.$roter.push({name:"List"}),this.chang()}},n={render:function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("div",[a("div",{staticClass:"box"},[a("Head",[a("router-link",{attrs:{slot:"left",to:"/List"},slot:"left"},[a("img",{attrs:{src:t("pvh7"),alt:""}})]),s._v(" "),a("span",{attrs:{slot:"center"},slot:"center"},[s._v("账号登陆")])],1),s._v(" "),a("div",{staticClass:"con"},[a("div",{staticClass:"span"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.username,expression:"username"}],staticClass:"user",attrs:{type:"text",placeholder:"账号"},domProps:{value:s.username},on:{input:function(e){e.target.composing||(s.username=e.target.value)}}}),s._v(" "),a("input",{directives:[{name:"show",rawName:"v-show",value:!s.value2,expression:"!value2"},{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"pass",attrs:{type:"password",placeholder:"密码"},domProps:{value:s.password},on:{input:function(e){e.target.composing||(s.password=e.target.value)}}}),s._v(" "),a("input",{directives:[{name:"show",rawName:"v-show",value:s.value2,expression:"value2"},{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"pass",attrs:{type:"text",placeholder:"密码"},domProps:{value:s.password},on:{input:function(e){e.target.composing||(s.password=e.target.value)}}}),s._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:s.captcha_code,expression:"captcha_code"}],staticClass:"yan",attrs:{type:"text",placeholder:"验证码"},domProps:{value:s.captcha_code},on:{input:function(e){e.target.composing||(s.captcha_code=e.target.value)}}}),s._v(" "),a("span",[a("img",{attrs:{src:s.code,alt:""}})]),s._v(" "),a("span",[s._v("看不清")]),s._v(" "),a("span",{on:{click:s.chang}},[s._v("换一张")]),s._v(" "),a("el-switch",{staticClass:"an",attrs:{id:"an","active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:s.value2,callback:function(e){s.value2=e},expression:"value2"}})],1),s._v(" "),a("span",{staticClass:"wenxin"},[s._v("温馨提示：未注册过的账号，登陆时将自动注册")]),s._v(" "),a("span",{staticClass:"tishi"},[s._v("注册过的用户可凭账号账号密码登陆")]),s._v(" "),a("button",{attrs:{id:"btn"},on:{click:s.submitinfo}},[s._v("登陆")]),s._v(" "),a("p",[s._v("重置密码？")])]),s._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:s.showpass,expression:"showpass"}],staticClass:"shuru"},[s._v("请确定密码是否输入如正确")])],1),s._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:1==s.isNo,expression:"isNo==true"}],staticClass:"alert"},[a("span",[s._v("!")]),s._v(" "),a("span",[s._v(s._s(s.val))]),s._v(" "),a("button",{on:{click:s.add}},[s._v("确c定")])])])},staticRenderFns:[]};var r=t("VU/8")(i,n,!1,function(s){t("3QTN")},"data-v-11256e0d",null);e.default=r.exports}});
//# sourceMappingURL=13.227bb0e5aa97493ac79e.js.map